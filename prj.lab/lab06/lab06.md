# ЛР6 - детекция Хафа

## Описание
Приложение, предназначенное для детектирования объектов на входном изображении.

Приложение включает в себя генератор сэмплов в виде выходных изображений и соответствующих им json-файлов с данными о положении и размере объектов на картинке для последующего контроля качества.

## Детекция и настройки
Из бинаризованного изображения путем использования детектирования методом Хафа. На вход подается исходное изображение. Детектор возвращает координаты центра и радиус для каждого сдетектированного объекта. На основании этих данных строятся маски для каждого сдетектированного объекта, которые затем используются для оценки качества.
    ![](../../assets/lab06/lab06_5_one_mask.png)


Для тестирования применялись следующие настройки детекции:
- ***Мин. размер = 3 пикселей***
- ***Макс. размер = 20***
- ***Параметр 1 = 35***
- ***Параметр 2 = 50***

## Примеры работы приложения и оценка качества
На каждый сэмпл накладываются аддитивный шум и размытие Гаусса с различными параметрами.
По json-файлу для исходного изображения строятся маски для каждого объекта, после чего считаются значения IOU, на основании которых для каждой детекции производится подсчет и TP, FP с фиксированным трешхолдом **0.84**, отсеивая детекции по трешхолдам, полученным как среднее "соседних" по значениям оценок детекций, по результатам чего строится кривая FROC.

- Отклонение шума = 5
- Размытие - отсутствует
    ![](../../assets/lab06/lab06_0.png)
    ![](../../assets/lab06/lab06_0_froc.png)
- Площадь под кривой = 4

<br />

- Отклонение шума = 5
- Размер ядра размытия = 3
- Отклонение размытия = 5
    ![](../../assets/lab06/lab06_1.png)
    ![](../../assets/lab06/lab06_1_froc.png)
- Площадь под кривой = 3.63

<br />

- Отклонение шума = 3
- Размер ядра размытия = 3
- Отклонение размытия = 5
    ![](../../assets/lab06/lab06_2.png)
    ![](../../assets/lab06/lab06_2_froc.png)
- Площадь под кривой = 3.46

<br />

- Отклонение шума = 5
- Размер ядра размытия = 5
- Отклонение размытия = 7
    ![](../../assets/lab06/lab06_3.png)
    ![](../../assets/lab06/lab06_3_froc.png)
- Площадь под кривой = 2.54

<br />

- Отклонение шума = 5
- Размер ядра размытия = 5
- Отклонение размытия = 7
    ![](../../assets/lab06/lab06_4.png)
    ![](../../assets/lab06/lab06_4_froc.png)
- Площадь под кривой = 1.57

<br />

- Отклонение шума = 5
- Размер ядра размытия = 5
- Отклонение размытия = 7
    ![](../../assets/lab06/lab06_5.png)
    ![](../../assets/lab06/lab06_5_froc.png)
- Площадь под кривой = 2.2